{
  "//": "Generated by fleet-terraform-generator - DO NOT EDIT",
  "variable": {
    "diskio_include_devices": {
      "type": "list(string)",
      "description": "Provide a specific list of devices to monitor. By default, all devices are monitored.\n",
      "default": null
    },
    "fleet_agent_policy_id": {
      "type": "string",
      "description": "Agent policy ID to add the package policy to."
    },
    "fleet_data_stream_namespace": {
      "type": "string",
      "description": "Namespace to use for the data stream.",
      "default": "default"
    },
    "fleet_package_policy_description": {
      "type": "string",
      "description": "Description to use for the package policy.",
      "default": ""
    },
    "fleet_package_policy_name_suffix": {
      "type": "string",
      "description": "Suffix to append to the end of the package policy name.",
      "default": ""
    },
    "fleet_package_version": {
      "type": "string",
      "description": "Version of the system package to use.",
      "default": "2.8.0"
    },
    "period": {
      "type": "string",
      "default": "10s",
      "nullable": false
    },
    "processors_yaml": {
      "type": "string",
      "description": "Processors are used to reduce the number of fields in the exported event or to enhance the event with metadata. This executes in the agent before the logs are parsed. See [Processors](https://www.elastic.co/guide/en/beats/filebeat/current/filtering-and-enhancing-data.html) for details.",
      "default": null
    },
    "system_hostfs": {
      "type": "string",
      "description": "The proc filesystem base directory.",
      "default": null
    },
    "tags": {
      "type": "list(string)",
      "default": null
    }
  },
  "output": {
    "id": {
      "description": "Package policy ID",
      "value": "${module.fleet_package_policy.id}"
    }
  },
  "module": {
    "fleet_package_policy": {
      "agent_policy_id": "${var.fleet_agent_policy_id}",
      "all_data_streams": [
        "core",
        "cpu",
        "diskio",
        "filesystem",
        "fsstat",
        "load",
        "memory",
        "network",
        "ntp",
        "process",
        "process.summary",
        "socket_summary",
        "uptime"
      ],
      "all_policy_template_inputs": [
        "system-logfile",
        "system-journald",
        "system-winlog",
        "system-system/metrics"
      ],
      "data_stream": "diskio",
      "data_stream_variables_json": "${jsonencode({\n  \"diskio.include_devices\" = var.diskio_include_devices\n  period = var.period\n  processors = var.processors_yaml\n  tags = var.tags\n})}",
      "description": "${var.fleet_package_policy_description}",
      "input_type": "system/metrics",
      "input_variables_json": "${jsonencode({\n  \"system.hostfs\" = var.system_hostfs\n})}",
      "namespace": "${var.fleet_data_stream_namespace}",
      "package_name": "system",
      "package_policy_name": "system-diskio-${var.fleet_data_stream_namespace}${var.fleet_package_policy_name_suffix}",
      "package_version": "${var.fleet_package_version}",
      "policy_template": "system",
      "source": "../../fleet_package_policy"
    }
  }
}
